<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="xml">
    <insert id="addUser" parameterType="User" >
            insert into user ( name,identity,username,password,openid,xueYuan,zhiCheng) values (#{name},#{identity},#{username},#{password},#{openId},#{xueYuan},#{zhiCheng})
        </insert>
    <select id="checkReg" parameterType="User" resultType="User">
          select * from user where username=#{username}
    </select>
    <delete id="deleteUser" parameterType="User" >
            delete from user where id= #{id}
        </delete>
    <select id="getUserByOpenid" parameterType="User" resultType="User">
        select * from user where openid=#{openId}
    </select>
    <update id="updateOpenid" parameterType="User" >
        update user set openid=#{openId} where id=#{id}
    </update>
    <select id="getUser" parameterType="User" resultType="User">
            select * from   user  where id= #{id}
        </select>
    <select id="getUserById" parameterType="int" resultType="User">
            select * from   user  where id= #{id}
        </select>
    <select id="checkUser" parameterType="User" resultType="User">
        select * from user where username=#{username}  and password=#{password}
    </select>
    <update id="updateUser" parameterType="User" >
            update user set name=#{name} where id=#{id}
        </update>
    <select id="listUser" resultType="User">
            select * from   user
        </select>
    <select id="selectJiangGaoResult" parameterType="int" resultType="JiangGaoResult">
        select * from Course_JiangGao where CourseId=#{CourseId}
    </select>
    <select id="selectZhongQiResult" parameterType="int" resultType="ZhongQiResult">
        select * from Course_ZhongQi where CourseId=#{CourseId}
    </select>
    <select id="selectJiaoAnResult" parameterType="int" resultType="JiaoAnResult">
        select * from Course_JiaoAn where CourseId=#{CourseId}
    </select>
    <select id="selectZhuanJiaResult" parameterType="int" resultType="ZhuanJiaResult">
        select * from Course_ZhuanJia where CourseId=#{CourseId}
    </select>
    <select id="selectPingJiaoResult" parameterType="int" resultType="PingJiaoResult">
        select * from Course_PingJiao where CourseId=#{CourseId}
    </select>
    <select id="selectChuTiResult" parameterType="int" resultType="ChuTiResult">
        select * from Course_ChuTi where CourseId=#{CourseId}
    </select>
    <select id="selectChuTiProblem" parameterType="int" resultType="Problem">
        select * from Course_Problem where CourseId=#{CourseId} and which=1
    </select>
    <select id="selectPingYueResult" parameterType="int" resultType="PingYueResult">
        select * from Course_PingYue where CourseId=#{CourseId}
    </select>
    <select id="selectPingYueProblem" parameterType="int" resultType="Problem">
        select * from Course_Problem where CourseId=#{CourseId} and which=2
    </select>
    <select id="selectFenXiResult" parameterType="int" resultType="FenXiResult">
        select * from Course_FenXi where CourseId=#{CourseId}
    </select>
    <select id="selectFenXiProblem" parameterType="int" resultType="Problem">
        select * from Course_Problem where CourseId=#{CourseId} and which=3
    </select>
    <select id="selectOneCourse" parameterType="int" resultType="Course">
        select * from Course where CourseId=#{CourseId}
    </select>
    <select id="listCourse" resultType="Course">
        select * from Course order by Term desc
    </select>
    <select id="getCourse" parameterType="User" resultType="Course">
        select * from Course where TeacherId=#{id} order by Term desc
    </select>

</mapper>