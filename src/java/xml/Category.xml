<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="xml">
    <insert id="addUser" parameterType="User" >
            insert into user ( name,identity,username,password,openid,xueYuan,zhiCheng) values (#{name},#{identity},#{username},#{password},#{openId},#{xueYuan},#{zhiCheng})
        </insert>
    <select id="checkReg" parameterType="User" resultType="User">
          select * from user where username=#{username}
    </select>
    <delete id="deleteUser" parameterType="User" >
            delete from user where id= #{id}
        </delete>
    <select id="getUserByOpenid" parameterType="User" resultType="User">
        select * from user where openid=#{openId}
    </select>
    <update id="updateOpenid" parameterType="User" >
        update user set openid=#{openId} where id=#{id}
    </update>
    <select id="getUser" parameterType="User" resultType="User">
            select * from   user  where id= #{id}
        </select>
    <select id="getUserById" parameterType="int" resultType="User">
            select * from   user  where id= #{id}
        </select>
    <select id="checkUser" parameterType="User" resultType="User">
        select * from user where username=#{username}  and password=#{password}
    </select>
    <update id="updateUser" parameterType="User" >
            update user set name=#{name} where id=#{id}
        </update>
    <select id="listUser" resultType="User">
            select * from   user
        </select>
    <select id="selectJiangGaoResult" parameterType="int" resultType="JiangGaoResult">
        select * from Course_JiangGao where CourseId=#{CourseId}
    </select>
    <select id="selectZhongQiResult" parameterType="int" resultType="ZhongQiResult">
        select * from Course_ZhongQi where CourseId=#{CourseId}
    </select>
    <select id="selectJiaoAnResult" parameterType="int" resultType="JiaoAnResult">
        select * from Course_JiaoAn where CourseId=#{CourseId}
    </select>
	
	
	
	
	
	<insert id="insertJiaoAnResult" parameterType="JiaoAnResult">
        insert into Course_JiaoAn ( CourseId,no1Answer,no1Text,no2Answer,no2Text,no3Answer,no3Text,no4Answer,no4Text,no5Answer,no5Text,no6Answer,no6Text,no7Answer,no7Text,no8Answer,no8Text,xinkeAnswer,jiaoanAnswer,zongtiAnswer) values (#{CourseId},#{no1Answer},#{no1Text},#{no2Answer},#{no2Text},#{no3Answer},#{no3Text},#{no4Answer},#{no4Text},#{no5Answer},#{no5Text},#{no6Answer},#{no6Text},#{no7Answer},#{no7Text},#{no8Answer},#{no8Text},#{xinkeAnswer},#{jiaoanAnswer},#{zongtiAnswer})
    </insert>
	
	<update id="insertJiaoAnResultscore" parameterType="Course">
        update Course set JiaoAnScore=#{JiaoAnScore} where CourseId=#{courseId}
    </update>
	<insert id="insertjianggaoResult" parameterType="JiangGaoResult">
        insert into Course_JiangGao ( CourseId,no1Answer,no1Text,no2Answer,no2Text,no3Answer,no3Text) values (#{CourseId},#{no1Answer},#{no1Text},#{no2Answer},#{no2Text},#{no3Answer},#{no3Text})
    </insert>
	<update id="insertjianggaoResultscore" parameterType="Course">
        update Course set JiangGaoScore=#{JiangGaoScore} where CourseId=#{courseId}
    </update>
	<insert id="insertzhongqiResult" parameterType="ZhongQiResult">
        insert into Course_ZhongQi ( CourseId,dayiAnswer,buzhiAnswer,pigaiAnswer,chuqinAnswer) values (#{CourseId},#{dayiAnswer},#{buzhiAnswer},#{pigaiAnswer},#{chuqinAnswer})
    </insert>
	<update id="insertzhongqiResultscore" parameterType="Course">
        update Course set ZhongQiScore=#{ZhongQiScore} where CourseId=#{courseId}
    </update>
	<insert id="insertzhuanjiaResult" parameterType="ZhuanJiaResult">
        insert into Course_ZhuanJia ( CourseId,no1Answer,no2Answer,no3Answer,no4Answer,no5Answer,no6Answer,no7Answer,advice) values (#{CourseId},#{no1Answer},#{no2Answer},#{no3Answer},#{no4Answer},#{no5Answer},#{no6Answer},#{no7Answer},#{advice})
    </insert>
	<update id="insertzhuanjiaResultscore" parameterType="Course">
        update Course set TingKeScore=#{TingKeScore} where CourseId=#{courseId}
    </update>
	<insert id="insertchutiResult" parameterType="ChuTiResult">
        insert into Course_ChuTi ( CourseId,chooseAnswer,advice) values (#{CourseId},#{chooseAnswer},#{advice})
    </insert>
	<update id="insertchutiResultscore" parameterType="Course">
        update Course set ChuTiScore=#{ChuTiScore} where CourseId=#{courseId}
    </update>
	<insert id="insertpingyueResult" parameterType="PingYueResult">
        insert into Course_PingYue ( CourseId,chooseAnswer,advice) values (#{CourseId},#{chooseAnswer},#{advice})
    </insert>
	<update id="insertpingyueResultscore" parameterType="Course">
        update Course set PingYueScore=#{PingYueScore} where CourseId=#{courseId}
    </update>
	<insert id="insertfenxiResult" parameterType="FenXiResult">
        insert into Course_FenXi ( CourseId,chooseAnswer,advice) values (#{CourseId},#{chooseAnswer},#{advice})
    </insert>
	<update id="insertfenxiResultscore" parameterType="Course">
        update Course set BaoGaoScore=#{BaoGaoScore} where CourseId=#{courseId}
    </update>
	
	
	
	
	
	
    <select id="selectZhuanJiaResult" parameterType="int" resultType="ZhuanJiaResult">
        select * from Course_ZhuanJia where CourseId=#{CourseId}
    </select>
    <select id="selectPingJiaoResult" parameterType="int" resultType="PingJiaoResult">
        select * from Course_PingJiao where CourseId=#{CourseId}
    </select>
    <select id="selectChuTiResult" parameterType="int" resultType="ChuTiResult">
        select * from Course_ChuTi where CourseId=#{CourseId}
    </select>
    <select id="selectChuTiProblem" parameterType="int" resultType="Problem">
        select * from Course_Problem where CourseId=#{CourseId} and which=1
    </select>
    <select id="selectPingYueResult" parameterType="int" resultType="PingYueResult">
        select * from Course_PingYue where CourseId=#{CourseId}
    </select>
    <select id="selectPingYueProblem" parameterType="int" resultType="Problem">
        select * from Course_Problem where CourseId=#{CourseId} and which=2
    </select>
    <select id="selectFenXiResult" parameterType="int" resultType="FenXiResult">
        select * from Course_FenXi where CourseId=#{CourseId}
    </select>
    <select id="selectFenXiProblem" parameterType="int" resultType="Problem">
        select * from Course_Problem where CourseId=#{CourseId} and which=3
    </select>
    <select id="selectOneCourse" parameterType="int" resultType="Course">
        select * from Course where CourseId=#{CourseId}
    </select>
    <select id="listCourse" resultType="Course">
        select * from Course order by Term desc
    </select>
    <select id="getCourse" parameterType="User" resultType="Course">
        select * from Course where TeacherId=#{id} order by Term desc
    </select>


    <select id="findLectureNoteFile" parameterType="int" resultType="Files">
        select * from File_LectureNote where courseId=#{courseId}
    </select>
    <insert id="insertLectureNoteFile" parameterType="Files">
        insert  into File_LectureNote (courseId,fileName,name,date,size) values(#{courseId},#{fileName},#{name},#{date},#{size})
    </insert>
    <update id="updateLectureNoteFile" parameterType="Files">
        update File_LectureNote set fileName=#{fileName},name=#{name},date=#{date},size=#{size} where courseId=#{courseId}
    </update>

    <select id="findLessonPlanFile" parameterType="int" resultType="Files">
        select * from File_LessonPlan where courseId=#{courseId}
    </select>
    <insert id="insertLessonPlanFile" parameterType="Files">
        insert  into File_LessonPlan (courseId,fileName,name,date,size) values(#{courseId},#{fileName},#{name},#{date},#{size})
    </insert>
    <update id="updateLessonPlanFile" parameterType="Files">
        update File_LessonPlan set fileName=#{fileName},name=#{name},date=#{date},size=#{size} where courseId=#{courseId}
    </update>
</mapper>